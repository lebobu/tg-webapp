<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>VLESS Auto-Generator</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background: #f0f2f5;
        }

        .card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        textarea {
            width: 100%;
            height: 60px;
            margin-bottom: 15px;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            resize: vertical;
            box-sizing: border-box;
        }

        .result-box {
            background: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            border: 2px dashed #007bff;
            word-break: break-all;
            margin-top: 10px;
            min-height: 40px;
        }

        button {
            padding: 10px 18px;
            cursor: pointer;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            transition: 0.2s;
        }

        .btn-primary {
            background: #007bff;
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
            margin-left: 10px;
        }

        button:hover {
            opacity: 0.8;
        }

        label {
            font-weight: bold;
            display: block;
            margin: 15px 0 5px;
            color: #333;
        }

        .controls {
            display: flex;
            align-items: center;
        }

        /* Стиль для скрытого шаблона */
        #templateLink {
            width: 100%;
            height: 80px;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #eee;
            box-sizing: border-box;
            resize: vertical;

            /* Секрет: текст белый на белом фоне */
            background-color: white;
            color: white;
            transition: border-color 0.3s;
        }

        /* Когда мышь над полем, чуть подсветим границы, чтобы было видно, где выделять */
        #templateLink:hover {
            border-color: #007bff;
        }

        /* При выделении браузер сам подсветит текст синим фоном */
        #templateLink::selection {
            background: #007bff;
            color: white;
        }
    </style>
</head>

<body>

    <div class="card">
        <h2>Генератор на основе шаблона</h2>

        <label>1. Ваш шаблон (откуда берем настройки сервера):</label>
        <!-- Используем постоянный шаблон на 01.15.2026   -->
        <textarea
            id="templateLink">vless://ac3420hg-4319-1234-5678-4e13a9876e3d@itamare.ru:443?encryption=none&security=tls&type=ws&host=itamare.ru&path=/notification/ws/&sni=itamare.ru#itamare-ru"></textarea>
        <!-- <p style="font-size: 0.8em; color: #999;">
            * Текст выше станет виден только при выделении (Ctrl+A или мышкой).
        </p> -->

        <label>2. Донорская ссылка (откуда берем ID и Remark/Описание):</label>
        <textarea id="donorLink" placeholder="link://... (ссылка с новым пингвином)"></textarea>

        <div class="controls">
            <button class="btn-primary" onclick="generateAndMerge()">Собрать ссылку</button>
        </div>

        <label>Текущий Remark (имя):</label>
        <input type="text" id="remarkField"
            style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ddd;"
            placeholder="Имя для конфига">

        <label>Результат:</label>
        <div id="result" class="result-box">Готовая ссылка появится здесь...</div>
    </div>

    <script>
        const adjectives = [
            "Анонимный", "Безумный", "Криптовый", "Железный", "Шпионский", "Быстрый", "Скрытный", "Веселый", "Цифровой", "Космический",
            "Удачливый", "Грозный", "Реактивный", "Пьяный", "Глючный", "Злой", "Сонный", "Золотой", "Подпольный", "Кибернетический",
            "Квантовый", "Облачный", "Пиксельный", "Вакуумный", "Ламповый", "Олдскульный", "Токсичный", "Плюшевый", "Бронированный", "Дикий",
            "Невидимый", "Громкий", "Тайный", "Межгалактический", "Сверхзвуковой", "Атомный", "Магнитный", "Электрический", "Кислотный", "Мятный",
            "Бородатый", "Лысый", "Хитрый", "Жадный", "Справедливый", "Голодный", "Сытый", "Умный", "Глупый", "Дерзкий",
            "Дедлайновый", "Багнутый", "Оптимизированный", "Виртуальный", "Синтетический", "Ретроградный", "Эпический", "Легендарный", "Мифический", "Пафосный",
            "Бюджетный", "Элитный", "Стрёмный", "Чёткий", "Мутный", "Драйвовый", "Медленный", "Тормозной", "Бешеный", "Летающий",
            "Подводный", "Грибовидный", "Зефирный", "Стеклянный", "Картонный", "Резиновый", "Чугунный", "Медный", "Титановый", "Алмазный",
            "Фантомный", "Призрачный", "Хаотичный", "Стабильный", "Взрывной", "Подозрительный", "Пушистый", "Колючий", "Скользкий", "Липкий",
            "Глокий", "Куздрявый", "Мямликовый", "Шлёпногий", "Зюзевый", "Бульдозеровый", "Флюктуационный", "Дырокольный", "Зазаборный", "Чебурашковый"
        ];
        const characters = [
            // Знаменитости и личности
            "Гослинг", "Стетхем", "Кейдж", "Цукерберг", "Дуров", "Маск", "Эйнштейн", "Тесла", "Джобс", "Гейтс",
            "Канье", "Эминем", "Шакур", "Тайсон", "Али", "Месси", "Роналду", "Хасбик", "Мэддисон", "Папич",

            // Кино и мультфильмы
            "Бэтмен", "Джокер", "Танос", "Локи", "Тор", "Шрек", "Нео", "Морфеус", "Терминатор", "Гэндальф",
            "Фродо", "Голлум", "Арагорн", "Саурон", "Шерлок", "Ватсон", "Хаус", "Декстер", "Ганнибал", "Рик",
            "Морти", "Бендер", "Гомер", "Картман", "Пикачу", "Наруто", "Саске", "Спанчбоб", "Патрик", "Сквидвард",
            "Штирлиц", "Борн", "Бонд", "Йода", "Вейдер", "Леголас", "Гримли", "Гринч", "Стич", "Рататуй",

            // Мемы и интернет-персонажи
            "Доге", "Чад", "Гигачад", "Скуф", "Альтушка", "Ждун", "Рикардо", "Гарольд", "Огр", "Гном",
            "Тролль", "Хакер", "Админ", "Аноним", "Вайпер", "Скрипт", "Бот", "Вирус", "Троян", "Киборг",

            // Существа и предметы
            "Енот", "Хомяк", "Барсук", "Крот", "Утконос", "Ленивец", "Дракон", "Единорог", "Зомби", "Вампир",
            "Пират", "Ниндзя", "Самурай", "Викинг", "Ковбой", "Рыцарь", "Пельмень", "Чебурек", "Кактус", "Кирпич",
            "Чайник", "Утюг", "Пылесос", "Метеор", "Фантом", "Призрак", "Мутант", "Пришелец", "Андроид", "Демон",

            // Вымышленные смешные
            "Шлёпнога", "Зюзлик", "Грымзик", "Буказоид", "Крукозябр", "Бабадук", "Сквонч", "Чебупеля", "Биба", "Боба"
        ];
        function generateAndMerge() {
            // 1. Генерируем случайный Remark
            const adj = adjectives[Math.floor(Math.random() * adjectives.length)];
            const char = characters[Math.floor(Math.random() * characters.length)];
            const num = Math.floor(Math.random() * 99);
            const newRemark = `${adj}_${char}_${num}`;

            document.getElementById('remarkDisplay').innerText = newRemark;

            // 2. Берем настройки из невидимого поля
            const templateStr = document.getElementById('templateLink').value.trim();

            try {
                // Извлекаем UID из постоянного донора
                const donorUid = donorLinkValue.split('@')[0].replace('vless://', '');

                // Извлекаем тело настроек из шаблона
                const templateBody = templateStr.split('@')[1].split('#')[0];

                // Собираем итог
                const finalLink = `vless://${donorUid}@${templateBody}#${encodeURIComponent(newRemark)}`;

                const resultDiv = document.getElementById('result');
                resultDiv.innerText = finalLink;
                resultDiv.style.background = "#fff4f4"; // Легкая подсветка при обновлении
                setTimeout(() => resultDiv.style.background = "#e9ecef", 200);

            } catch (e) {
                alert("Ошибка в формате шаблона!");
            }
        }

        function copyToClipboard() {
            const resultText = document.getElementById('result').innerText;
            if (resultText && resultText !== "Готовая ссылка появится здесь...") {
                navigator.clipboard.writeText(resultText);
                alert("Ссылка скопирована!");
            }
        }
    </script>

</body>

</html>